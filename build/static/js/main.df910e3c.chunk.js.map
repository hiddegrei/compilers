{"version":3,"sources":["firebase.js","Stateprovider.js","reactComponents/Login.js","reactComponents/Register.js","classes/GameLoop.js","classes/KeyboardListener.js","classes/Player.js","classes/Border.js","classes/Ray.js","classes/Particle.js","classes/Scene.js","classes/Game.js","reactComponents/Main.js","reactComponents/App.js","reducer.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Login","history","useHistory","useState","email","setEmail","password","setPassword","dispatch","user","handle","open","setOpen","useEffect","setTimeout","className","to","id","src","onChange","e","target","type","onClick","preventDefault","newemail","replace","signInWithEmailAndPassword","then","userCredential","useruser","uid","collectionGroup","where","get","querySnapshot","forEach","doc","profile","data","catch","error","console","log","push","alert","message","Register","username","setUsername","alt","collection","exists","createUserWithEmailAndPassword","newuser","set","userId","imageUrl","bio","following","followers","sendEmailVerification","GameLoop","game","mode","NORMAL_MODE","step","timestamp","isInState","STATE_STARTING","state","STATE_RUNNING","processInput","shouldStop","PLAY_CATCH_UP","previousElapsed","update","elapsed","render","STATE_STOPPING","requestAnimationFrame","STATE_IDLE","now","performance","stepTime","frameTime","frameEnd","fps","Math","round","load","gameTime","gameStart","frameCount","this","KeyboardListener","keyDown","ev","keyCodeStates","keyCode","keyUp","Array","window","addEventListener","KEY_SPACE","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_R","Player","x","y","keyboard","KeyListener","yspeed","xpos","ypos","isKeyDown","Border","x1","y1","x2","y2","ctx","a","b","strokeStyle","beginPath","moveTo","lineTo","stroke","Ray","pos","angle","lenghtDir","dir","cos","PI","sin","p","l","sqrt","mx","my","border","x3","y3","x4","y4","den","t","text","xCoordinate","yCoordinate","fontSize","color","alignment","font","fillStyle","textAlign","fillText","Particle","rays","radius","speed","mouse","angleView","ax","ay","bx","by","atan","borders","walk","length","i","pt","cast","d","degrees","atan2","arc","show","ray","closest","record","Infinity","Scene","canvas","width","innerWidth","height","innerHeight","getContext","player","score","random","particle","event","clientX","clientY","clearRect","document","onmousemove","mouseDown","bind","move","look","SPACE","Game","scene","gameLoop","start","source","img","Image","min","max","Main","getElementById","App","path","action","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.df910e3c.chunk.js","sourcesContent":["\r\nimport firebase from \"firebase\";\r\n\r\n\r\nconst firebaseConfig = {\r\n   apiKey: \"AIzaSyDUBI0Gu6n_tO4wK9jV6dKzulCe6zfnVO4\",\r\n  authDomain: \"the-compilers.firebaseapp.com\",\r\n  projectId: \"the-compilers\",\r\n  storageBucket: \"the-compilers.appspot.com\",\r\n  messagingSenderId: \"165833853697\",\r\n  appId: \"1:165833853697:web:af0a0922ac75b02b0f6900\",\r\n  measurementId: \"G-Y64Y3HMRLE\"\r\n  };\r\n// const firebaseConfig = {\r\n//     apiKey: \"AIzaSyALCLBa55Gzven0Vd13A_FP1KzJJcusRxU\",\r\n//     authDomain: \"mediaapp-d96d1.firebaseapp.com\",\r\n//     projectId: \"mediaapp-d96d1\",\r\n//     databaseURL: \"https://mediaapp-d96d1.firebaseio.com\",\r\n//     storageBucket: \"mediaapp-d96d1.appspot.com\",\r\n//     messagingSenderId: \"275785490972\",\r\n//     appId: \"1:275785490972:web:65ccaff57e382da10cb5d9\",\r\n//     measurementId: \"G-E3J91N1ET9\"\r\n//   };\r\n\r\n  const firebaseApp=firebase.initializeApp(firebaseConfig);\r\n\r\n  const db=firebaseApp.firestore();\r\n  const auth=firebase.auth();\r\n  const storage = firebase.storage();\r\n\r\n\r\n export {db,auth,storage}","import React,{createContext,useContext,useReducer} from \"react\";\r\n\r\nexport const StateContext=createContext();\r\n\r\nexport const StateProvider=({reducer,initialState,children})=>(\r\n    <StateContext.Provider value={useReducer(reducer,initialState)}>\r\n    {children}\r\n    </StateContext.Provider>\r\n)\r\nexport const useStateValue=()=>useContext(StateContext)","import React,{useState,useEffect} from 'react';\r\nimport \"../css/Login.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {db,auth} from \"../firebase\";\r\nimport {useStateValue} from \"../Stateprovider\";\r\n\r\n\r\nfunction Login() {\r\n    const history=useHistory()\r\n    const[email,setEmail]=useState('');\r\n    const[password,setPassword]=useState('');\r\n    const[username,setUsername]=useState('');\r\n    const[{user,handle},dispatch]=useStateValue();\r\n    const[open,setOpen]=useState(false)\r\n\r\n    \r\n   \r\n  \r\n\r\n    const signin=(e)=>{\r\ne.preventDefault();\r\nvar newemail = email.replace(/\\s+/g, '');\r\n\r\n\r\nif(newemail&&password){\r\n    \r\n// db.collection('users').doc(username).get().then(doc=>{\r\n   \r\n//     if(doc.exists&&(doc.data().email===email)){\r\n\r\n        \r\nauth.signInWithEmailAndPassword(newemail,password).then((userCredential) => {\r\n    // Signed in\r\n    var useruser = userCredential.user;\r\n    dispatch({\r\n    type:'SET_USER',\r\n    user:useruser,\r\n    \r\n   \r\n    \r\n})\r\n\r\nif(useruser.uid){\r\n   \r\n db.collectionGroup('users').where('userId', '==', useruser.uid)\r\n.get().then((querySnapshot) => {\r\n    querySnapshot.forEach((doc) => {\r\n       // console.log( doc.data());\r\n        dispatch({\r\n                  type:'SET_PROFILE',\r\n                  profile:doc.data(),\r\n                 }\r\n                )\r\n    });\r\n}).catch((error)=>console.log(error))\r\n}\r\n// dispatch({\r\n//     type:'SET_HANDLE',\r\n//     handle:username,\r\n// })\r\n   \r\n    // ...\r\n  })\r\n.then((auth)=>{\r\n    history.push('/')\r\n}).catch(error=>alert(error.message))\r\n    // }else{alert('wrong credentials')}\r\n\r\n\r\n//})\r\n}\r\nelse{alert('email/password is missing')}\r\n\r\n    }\r\n\r\n//     const register=(e)=>{\r\n//         e.preventDefault();\r\n//         if(username){\r\n// db.collection('users').where('username','==',username).get().then(doc=>{\r\n//     if(doc.exists){\r\n//         return alert(username+':this username is already taken')\r\n//     }else{\r\n// auth.createUserWithEmailAndPassword(email,password).then((userCredential) => {\r\n//     // Signed in\r\n//     var newuser = userCredential.user;\r\n//     db.collection('users').doc(`${username}`).set({\r\n//     username:username,\r\n//     email:newuser.email,\r\n//     userId:newuser.uid,\r\n//     following:0,\r\n//     followers:0,\r\n//     imageUrl:'',\r\n//     bio:'',\r\n    \r\n// })})\r\n//         .then((auth)=>{\r\n//             setOpen(true)\r\n//         }).catch(error=>alert(error.message))\r\n//     }\r\n// })\r\n\r\n        \r\n        \r\n// }else{alert('please enter username')}     \r\n\r\n//     }\r\n\r\n     useEffect(()=>{\r\nif(open){\r\n    setTimeout(()=>{\r\nsetOpen(false)\r\n    },3000)\r\n}},[open])\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/\">\r\n                <img className=\"header__logo\" id=\"myimg\" src=\"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/socialHit.jpg.jpg?alt=media&token=421646ee-5d89-4c89-8eab-57d3c88174f6\"></img>\r\n             {/* <img className=\"header__logo\" src=\"\"></img> */}\r\n        </Link>\r\n        <div className=\"login__container\">\r\n            <h1>sign in</h1>\r\n            \r\n            <form>\r\n                {/* <h5>Username</h5>\r\n                <input onChange={(e)=>setUsername(e.target.value)}value={username} type=\"text\"></input> */}\r\n                \r\n                <h5>Email</h5>\r\n                <input onChange={(e)=>setEmail(e.target.value)}value={email} type=\"text\"></input>\r\n\r\n                <h5>Password</h5>\r\n                <input onChange={(e)=>setPassword(e.target.value)}value={password} type=\"password\"></input>\r\n                <button type=\"submit\"onClick={signin} className=\"login__button\">Sign in</button>\r\n            </form>\r\n            {/* <p>\r\n                By signing-in you agree to the <strong>SocialX</strong> conditions of Use & Sale.\r\n                Please see our Privacy Notice,our Cookies Notice and our Interest-Based Ads Notice.\r\n            </p> */}\r\n            <button onClick={()=>history.push('/forgotpassword')} className=\"login__forgotpasswordbutton\">Forgot Password?</button>\r\n            <button onClick={()=>history.push('/register')} className=\"login__registerButton\">Create account</button>\r\n        </div>\r\n        {/* {open&&<div className=\"login__popup\">\r\n             <h1>Thanks for signing up! You can Login now!</h1>\r\n            </div>} */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useState,useEffect} from 'react';\r\nimport \"../css/Login.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {db,auth} from \"../firebase\";\r\nimport {useStateValue} from \"../Stateprovider\";\r\n\r\n\r\nfunction Register() {\r\n    const history=useHistory()\r\n    const[email,setEmail]=useState('');\r\n    const[password,setPassword]=useState('');\r\n    const[username,setUsername]=useState('');\r\n    const[{user,handle},dispatch]=useStateValue();\r\n    const[open,setOpen]=useState(false)\r\n\r\n    const register=(e)=>{\r\n        e.preventDefault();\r\n\r\n        var newemail = email.replace(/\\s+/g, '');\r\n        \r\n        if(username&&username!=='undefined'){\r\ndb.collection('users').where('username','==',username).get().then(doc=>{\r\n    if(doc.exists){\r\n        return alert(username+':this username is already taken')\r\n    }else{\r\nauth.createUserWithEmailAndPassword(newemail,password).then((userCredential) => {\r\n    // Signed in\r\n    var newuser = userCredential.user;\r\n    \r\n   \r\n    db.collection('users').doc(username).set({\r\n    username:username,\r\n    email:newuser.email,\r\n    userId:newuser.uid,\r\n    imageUrl:'',\r\n    bio:'',\r\n    \r\n})\r\n\r\ndb.collection('users').doc(username).collection('followingNUM').doc(username).set({\r\n    following:0\r\n}).catch(error=>alert(error.message))\r\n db.collection('users').doc(username).collection('followersNUM').doc(username).set({\r\n    followers:0\r\n}).catch(error=>alert(error.message))\r\n\r\nnewuser.sendEmailVerification().then(function() {\r\n  \r\n}).catch(function(error) {\r\n  // An error happened.\r\n});\r\n\r\nsetEmail('')\r\n    setUsername('')\r\n    setPassword('')\r\n\r\n\r\n})\r\n        .then((auth)=>{\r\n            setOpen(true)\r\n        }).catch(error=>alert(error.message))\r\n    }\r\n})\r\n\r\n        \r\n        \r\n}else{alert('please enter username')}     \r\n\r\n    }\r\n\r\n     useEffect(()=>{\r\nif(open){\r\n    setTimeout(()=>{\r\nsetOpen(false)\r\n    },3000)\r\n}},[open])\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/\">\r\n                <img alt=\"\" className=\"header__logo\" id=\"myimg\" src=\"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/socialHit.jpg.jpg?alt=media&token=421646ee-5d89-4c89-8eab-57d3c88174f6\"></img>\r\n             {/* <img className=\"header__logo\" src=\"\"></img> */}\r\n        </Link>\r\n        <div className=\"login__container\">\r\n            <h1>Register</h1>\r\n            \r\n            <form>\r\n                <h5>Username</h5>\r\n                <input onChange={(e)=>setUsername(e.target.value)}value={username} type=\"text\"></input>\r\n                \r\n                <h5>Email</h5>\r\n                <input onChange={(e)=>setEmail(e.target.value)}value={email} type=\"text\"></input>\r\n\r\n                <h5>Password</h5>\r\n                <input onChange={(e)=>setPassword(e.target.value)}value={password} type=\"password\"></input>\r\n                \r\n            </form>\r\n            {/* <p>\r\n                By signing-in you agree to the <strong>SocialX</strong> conditions of Use & Sale.\r\n                Please see our Privacy Notice,our Cookies Notice and our Interest-Based Ads Notice.\r\n            </p> */}\r\n            <button onClick={register} className=\"login__registerButton\">Create account</button>\r\n            \r\n             <button type=\"submit\" onClick={()=>history.push('/login')}className=\"login__button\">Back to Sign in</button>\r\n             \r\n        </div>\r\n        {open&&<div className=\"login__popup\">\r\n             <h1>Thanks for signing up! You can Login now!</h1>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","export default class GameLoop {\r\n    static STATE_IDLE = 0;\r\n    static STATE_STARTING = 1;\r\n    static STATE_RUNNING = 2;\r\n    static STATE_STOPPING = 3;\r\n    static NORMAL_MODE = 0;\r\n    static PLAY_CATCH_UP = 1;\r\n    mode;\r\n    state;\r\n    game;\r\n    previousElapsed;\r\n    gameStart;\r\n    frameEnd;\r\n    gameTime;\r\n    frameCount;\r\n    fps;\r\n    load;\r\n    constructor(game, mode = GameLoop.NORMAL_MODE) {\r\n        this.state = GameLoop.STATE_IDLE;\r\n        this.mode = mode;\r\n        this.game = game;\r\n    }\r\n    start() {\r\n        if (this.state === GameLoop.STATE_IDLE) {\r\n            this.state = GameLoop.STATE_STARTING;\r\n            this.gameStart = performance.now();\r\n            this.frameEnd = this.gameStart;\r\n            this.previousElapsed = this.gameStart;\r\n            this.gameTime = 0;\r\n            this.frameCount = 0;\r\n            requestAnimationFrame(this.step);\r\n        }\r\n    }\r\n    stop() {\r\n        this.state = GameLoop.STATE_STOPPING;\r\n    }\r\n    isInState(state) {\r\n        return this.state === state;\r\n    }\r\n    step = (timestamp) => {\r\n        if (this.isInState(GameLoop.STATE_STARTING)) {\r\n            this.state = GameLoop.STATE_RUNNING;\r\n        }\r\n        this.game.processInput();\r\n       \r\n        let shouldStop = false;\r\n        if (this.mode === GameLoop.PLAY_CATCH_UP) {\r\n            const step = 1;\r\n            while (this.previousElapsed < timestamp && !shouldStop) {\r\n                shouldStop = this.game.update(step);\r\n                this.previousElapsed += step;\r\n            }\r\n        }\r\n        else {\r\n            const elapsed = timestamp - this.previousElapsed;\r\n            shouldStop = this.game.update(elapsed);\r\n            this.previousElapsed = timestamp;\r\n        }\r\n        this.game.render();\r\n        if (!shouldStop || this.isInState(GameLoop.STATE_STOPPING)) {\r\n            requestAnimationFrame(this.step);\r\n        }\r\n        else {\r\n            this.state = GameLoop.STATE_IDLE;\r\n        }\r\n        const now = performance.now();\r\n        const stepTime = timestamp - now;\r\n        const frameTime = now - this.frameEnd;\r\n        this.fps = Math.round(1000 / frameTime);\r\n        this.load = stepTime / frameTime;\r\n        this.frameEnd = now;\r\n        this.gameTime = now - this.gameStart;\r\n        this.frameCount += 1;\r\n    };\r\n}\r\n//# sourceMappingURL=GameLoop.js.map","export default class KeyboardListener {\r\n    static KEY_SPACE = 32;\r\n    static KEY_LEFT = 37;\r\n    static KEY_UP = 38;\r\n    static KEY_RIGHT = 39;\r\n    static KEY_DOWN = 40;\r\n    static KEY_R = 82;\r\n    keyCodeStates;\r\n    constructor() {\r\n        this.keyCodeStates = new Array();\r\n        window.addEventListener('keydown', this.keyDown);\r\n        window.addEventListener('keyup', this.keyUp);\r\n    }\r\n    isKeyDown(keyCode) {\r\n        return this.keyCodeStates[keyCode] === true;\r\n    }\r\n    kPressed(keyCode) {\r\n        return this.keyCodeStates[keyCode] === true;\r\n    }\r\n    keyDown = (ev) => {\r\n        this.keyCodeStates[ev.keyCode] = true;\r\n    };\r\n    keyUp = (ev) => {\r\n        this.keyCodeStates[ev.keyCode] = false;\r\n    };\r\n}\r\n//# sourceMappingURL=KeyboardListener.js.map","\r\nimport KeyListener from \"./KeyboardListener.js\";\r\nimport Game from \"./Game.js\";\r\nimport Scene from \"./Scene.js\";\r\n// import {db} from \"./firebase.js\"\r\nexport default class Player  {\r\n    keyboard;\r\n    img;\r\n    yspeed;\r\n    ypos;\r\n    xpos;\r\n    constructor(x, y) {\r\n       \r\n        this.keyboard = new KeyListener();\r\n       \r\n        this.yspeed = 1;\r\n         this.xpos=100\r\n        this.ypos=100\r\n    }\r\n    move() {\r\n       //up\r\n        if(this.keyboard.isKeyDown(38)){\r\n            this.ypos-=10\r\n        }\r\n//down\r\n        if(this.keyboard.isKeyDown(40)){\r\n            this.ypos+=10\r\n        }\r\n\r\n        //left\r\n        if(this.keyboard.isKeyDown(37)){\r\n            this.xpos-=10\r\n            console.log(\"so\")\r\n        }\r\n//right\r\n        if(this.keyboard.isKeyDown(39)){\r\n            this.xpos+=10\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n   \r\n    \r\n}\r\n//# sourceMappingURL=Player.js.map","export default class Border{\r\n\r\n    constructor(x1,y1,x2,y2, ctx){\r\n        this.a={x:x1,y:y1};\r\n        this.b={x:x2,y:y2};\r\n        \r\n        this.ctx=ctx\r\n        \r\n    }\r\n\r\n    show(){\r\n       this.ctx.strokeStyle=\"#000000\"\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(this.a.x, this.a.y);\r\n        this.ctx.lineTo(this.b.x, this.b.y);\r\n        this.ctx.stroke();\r\n\r\n    }\r\n}","export default class Ray{\r\n\r\n    constructor(pos,angle,ctx){\r\n        this.pos=pos;\r\n        this.lenghtDir=50\r\n        this.dir={x:Math.cos((angle/360)*2*Math.PI),y:Math.sin((angle/360)*2*Math.PI)};\r\n        this.ctx=ctx;\r\n        this.p={x:null,y:null}\r\n\r\n        const l=Math.sqrt(this.dir.x*this.dir.x+this.dir.y*this.dir.y)\r\n        this.dir.x=(this.dir.x/l)*this.lenghtDir\r\n        this.dir.y=(this.dir.y/l)*this.lenghtDir*-1\r\n\r\n    }\r\n\r\n    show(){\r\n         this.ctx.beginPath();\r\n        this.ctx.moveTo(this.pos.x, this.pos.y);\r\n        this.ctx.lineTo(this.pos.x+this.dir.x, this.pos.y+this.dir.y);\r\n        this.ctx.stroke();\r\n\r\n       // this.writeTextToCanvas(\"x: \" +this.dir.x+\" y: \"+this.dir.y,this.pos.x,this.pos.y+20)\r\n\r\n       \r\n    }\r\n\r\n    lookAt(mx,my){\r\n        this.dir.x=mx-this.pos.x;\r\n        this.dir.y=my-this.pos.y\r\n    }\r\n\r\n    cast(border){\r\n        const x1=border.a.x\r\n        const y1=border.a.y\r\n        const x2=border.b.x\r\n        const y2=border.b.y\r\n\r\n        const x3=this.pos.x\r\n        const y3=this.pos.y\r\n        const x4=this.pos.x+this.dir.x\r\n        const y4=this.pos.y+this.dir.y\r\n\r\n        const den=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);\r\n\r\n        if(den ===0){\r\n            return false\r\n        }\r\n        const t=((x1-x3)*(y3-y4)-(y1-y3)*(x3-x4))/den;\r\n\r\n        const u=-((x1-x2)*(y1-y3)-(y1-y2)*(x1-x3))/den;\r\n\r\n        if(t>0&&t<1&&u>0){\r\n            \r\n         this.p.x=x1+t*(x2-x1)\r\n         this.p.y=y1+t*(y2-y1)\r\n         return this.p\r\n        }else{\r\n           return false\r\n        }\r\n\r\n\r\n\r\n    }\r\n     writeTextToCanvas(text, xCoordinate, yCoordinate, fontSize = 20, color = 'red', alignment = 'center') {\r\n       \r\n        this.ctx.font = `${fontSize}px sans-serif`;\r\n        this.ctx.fillStyle = color;\r\n        this.ctx.textAlign = alignment;\r\n        this.ctx.fillText(text, xCoordinate, yCoordinate);\r\n    }\r\n}","import Ray from \"./Ray\";\r\nimport Scene from \"./Scene.js\"\r\nexport default class Particle{\r\n\r\n    constructor(x,y,ctx){\r\n        this.ctx=ctx\r\n         this.pos={x:x,y:y};\r\n         this.rays=[]\r\n         this.radius=10\r\n         this.speed=5\r\n         this.dir={x:0,y:0}\r\n         this.mouse={x:0,y:0}\r\n         this.angleView=15\r\n\r\n        //  for(let i=0;i<360;i+=10){\r\n        //      this.rays.push( new Ray(this.pos,(i/360)*2*Math.PI,this.ctx))\r\n        //  }\r\n        \r\n\r\n    }\r\n\r\n    getAngleDeg(ax,ay,bx,by) {\r\n  var angleRad = Math.atan((ay-by)/(ax-bx));\r\n  var angleDeg = angleRad * 180 / Math.PI;\r\n  \r\n  return(angleDeg);\r\n}\r\n\r\n    move(mx,my,borders){\r\n\r\n        let walk=true\r\n        \r\n        if(this.rays.length>0){\r\n        for(let i=0;i<borders.length;i++){\r\n        let pt=this.rays[15].cast(borders[i])\r\n        if(pt){\r\n        let a=pt.x-this.pos.x\r\n        let b=pt.y-this.pos.y\r\n        let d=Math.sqrt(a*a+b*b)\r\n        if(d<5){\r\n            walk=false\r\n\r\n        }\r\n        }\r\n        }\r\n    }\r\n\r\n       \r\n\r\n             this.dir={x:mx-this.pos.x,y:my-this.pos.y}\r\n\r\n        const a=this.pos.x-this.pos.x+this.dir.x\r\n        const b=this.pos.y-this.pos.y+this.dir.y\r\n        const d=Math.sqrt((a*a)+(b*b))\r\n\r\n         const radians=Math.atan2(a,b)\r\n         let degrees = (radians * 180) / Math.PI - 90; // rotate\r\n         \r\n  \r\n           while (degrees >= 360) degrees -= 360;\r\n           while (degrees < 0) degrees += 360;\r\n\r\n          this.angleView=degrees \r\n\r\n           \r\n          \r\n           this.rays=[]\r\n         \r\n           for(let i=degrees-15;i<degrees;i++){\r\n               this.rays.push(new Ray(this.pos,i,this.ctx))\r\n\r\n           }\r\n           for(let i=degrees;i<degrees+15;i++){\r\n               this.rays.push(new Ray(this.pos,i,this.ctx))\r\n\r\n           }\r\n          \r\n        \r\n\r\n        this.dir.x=(this.dir.x/d)*this.speed\r\n        this.dir.y=(this.dir.y/d)*this.speed\r\n\r\n         if(d>20 &&walk){\r\n       \r\n    \r\n        this.pos.x+=this.dir.x\r\n        this.pos.y+=this.dir.y\r\n         }\r\n\r\n\r\n\r\n\r\n      \r\n     \r\n          \r\n\r\n          \r\n       \r\n        \r\n\r\n       \r\n\r\n     \r\n\r\n\r\n    }\r\n    show(){\r\n         this.ctx.beginPath();\r\n        this.ctx.arc(this.pos.x, this.pos.y, this.radius, 0, 2 * Math.PI);\r\n        this.ctx.stroke();\r\n\r\n        //this.writeTextToCanvas(`${this.angle}`,this.pos.x,this.pos.y+20)\r\n\r\n        // this.ctx.fillStyle = \"#FF0000\";\r\n        //  this.ctx.beginPath();\r\n        //     this.ctx.moveTo(this.pos.x, this.pos.y);\r\n        //     this.ctx.lineTo(this.pos.x+(this.dir.x)*this.speed, this.pos.y+(this.dir.y)*this.speed);\r\n        //     this.ctx.stroke();\r\n\r\n        for(let i=0;i<this.rays.length;i++){\r\n            this.rays[i].show()\r\n        }\r\n        // const a=this.pos.x-this.pos.x+this.dir.x\r\n        // const b=this.pos.y-this.pos.y+this.dir.y\r\n        // const radians=Math.atan2(a,b)\r\n        //  let degrees = (radians * 180) / Math.PI - 90; // rotate\r\n  \r\n        //    while (degrees >= 360) degrees -= 360;\r\n        //    while (degrees < 0) degrees += 360;\r\n  \r\n        //this.writeTextToCanvas(`${degrees} `,this.pos.x,this.pos.y+50)\r\n\r\n    }\r\n    look(borders){\r\n\r\n        for(let ray of this.rays){\r\n            let closest={x:null,y:null}\r\n             let record=Infinity\r\n\r\n             \r\n            \r\n            for(let border of borders){\r\n               \r\n                const p=ray.cast(border)\r\n               \r\n                if(p){\r\n                    \r\n                    //reken distance tussen particle en point op border\r\n                       \r\n                    \r\n                    const a=p.x-this.pos.x\r\n                    const b=p.y-this.pos.y\r\n                    const d=Math.sqrt((a*a)+(b*b))\r\n                   \r\n                    \r\n                    \r\n                    if(d<=record){\r\n                         //this.writeTextToCanvas(Math.round(d),p.x,p.y+30)\r\n                          \r\n                        //console.log(\"record: \"+ record, \"newD: \" + Math.round(d))\r\n                        record=d\r\n                        closest.x=p.x\r\n                        closest.y=p.y\r\n                    }\r\n                }\r\n                \r\n            }\r\n            if(closest.x != null){\r\n                // this.ctx.fillStyle = \"#FF0000\";\r\n                // this.ctx.fillRect(closest.x, closest.y, 10, 10);\r\n                        \r\n             \r\n                this.ctx.beginPath();\r\n            this.ctx.moveTo(this.pos.x, this.pos.y);\r\n            this.ctx.lineTo(closest.x, closest.y);\r\n            this.ctx.stroke();\r\n\r\n       \r\n\r\n            }\r\n            \r\n          \r\n        }\r\n\r\n    }\r\n    writeTextToCanvas(text, xCoordinate, yCoordinate, fontSize = 20, color = 'red', alignment = 'center') {\r\n       \r\n        this.ctx.font = `${fontSize}px sans-serif`;\r\n        this.ctx.fillStyle = color;\r\n        this.ctx.textAlign = alignment;\r\n        this.ctx.fillText(text, xCoordinate, yCoordinate);\r\n    }\r\n}","\r\nimport Player from \"./Player.js\";\r\nimport Game from \"./Game.js\";\r\nimport Border from \"./Border.js\";\r\nimport Ray from \"./Ray.js\";\r\nimport Particle from \"./Particle.js\";\r\n\r\nexport default class Scene {\r\n    canvas;\r\n    ctx;\r\n    player;\r\n   \r\n    game;\r\n    \r\n   \r\n    static SPACE = 300;\r\n    score;\r\n    constructor(canvas, game) {\r\n        this.canvas = canvas;\r\n        this.canvas.width = window.innerWidth;\r\n        this.canvas.height = window.innerHeight;\r\n        this.game = game;\r\n        this.ctx = this.canvas.getContext('2d');\r\n        this.player = new Player(150, this.canvas.height / 2);\r\n        this.score = 0;\r\n        this.borders=[]\r\n        for(let i=0;i<5;i++){\r\n            const x=Math.random()*this.canvas.width\r\n            const y=Math.random()*this.canvas.height\r\n            const x2=Math.random()*this.canvas.width\r\n            const y2=Math.random()*this.canvas.height\r\n            this.borders.push(new Border(x,y,x2,y2,this.ctx))\r\n        }\r\n        //this.border= new Border(300,50,300,200,this.ctx)\r\n        // this.ray=new Ray(50,150, this.ctx)\r\n        this.particle=new Particle(100,100,this.ctx)\r\n        this.mouse={x:0,y:0};\r\n       \r\n        //window.addEventListener(\"mousemove\",this.mouseDown.bind(this), false)\r\n        \r\n    }\r\n    processInput() {\r\n        \r\n    \r\n              \r\n    }\r\n    \r\n    mouseDown(e){\r\n        \r\n      // this.particle.update(window.event.clientX,window.event.clientY)\r\n       this.mouse.x=window.event.clientX\r\n       this.mouse.y=window.event.clientY\r\n    \r\n    }\r\n   \r\n    update() {\r\n         this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\r\n        \r\n        //  for(let i=0;i<this.particle.rays.length;i++){\r\n        //      this.particle.rays[i].cast(this.border)\r\n        //  }\r\n         //this.ray.cast(this.border)\r\n\r\n         document.onmousemove=this.mouseDown.bind(this)\r\n         this.particle.move(this.mouse.x,this.mouse.y,this.borders)\r\n         \r\n         \r\n         \r\n         \r\n       \r\n    }\r\n    \r\n    render() {\r\n\r\n        //this.border.show()\r\n        this.particle.show()\r\n        // this.writeTextToCanvas(\"hi\",100,100)\r\n        for(let i=0;i<this.borders.length;i++){\r\n            this.borders[i].show()\r\n        }\r\n        this.particle.look(this.borders)\r\n       \r\n       \r\n    }\r\n\r\n   \r\n    writeTextToCanvas(text, xCoordinate, yCoordinate, fontSize = 20, color = 'red', alignment = 'center') {\r\n        const ctx = this.canvas.getContext('2d');\r\n        ctx.font = `${fontSize}px sans-serif`;\r\n        ctx.fillStyle = color;\r\n        ctx.textAlign = alignment;\r\n        ctx.fillText(text, xCoordinate, yCoordinate);\r\n    }\r\n}\r\n//# sourceMappingURL=Scene.js.map","import GameLoop from \"./GameLoop.js\";\r\n\r\nimport Scene from \"./Scene.js\";\r\n\r\nexport default class Game {\r\n    canvas;\r\n    gameLoop;\r\n    scene;\r\n   \r\n    constructor(canvas) {\r\n        this.canvas = canvas;\r\n        this.scene = new Scene(this.canvas, this);\r\n        \r\n        this.gameLoop = new GameLoop(this);\r\n      \r\n    }\r\n    start() {\r\n        console.log(\"starting\");\r\n        this.gameLoop.start();\r\n    }\r\n   \r\n    processInput() {\r\n        \r\n            this.scene.processInput();\r\n        \r\n    }\r\n    update(elapsed) {\r\n       \r\n            this.scene.update();\r\n        \r\n        return false;\r\n    }\r\n    \r\n    render() {\r\n       \r\n            this.scene.render();\r\n        \r\n    }\r\n    static loadNewImage(source) {\r\n        const img = new Image();\r\n        img.src = source;\r\n        return img;\r\n    }\r\n    static randomNumber(min, max) {\r\n        return Math.round(Math.random() * (max - min) + min);\r\n    }\r\n}\r\n//# sourceMappingURL=Game.js.map","import React,{useEffect,useState} from 'react';\r\nimport {db} from \"../firebase\";\r\nimport {useStateValue} from \"../Stateprovider\";\r\nimport \"../css/Main.css\"\r\nimport Game from '../classes/Game.js';\r\n\r\nfunction Main() {\r\n    const[{user},dispatch]=useStateValue();\r\n    // let canvas;\r\n    // let ctx;\r\n    // let test\r\n    \r\n       \r\n\r\n    useEffect(()=>{\r\n        if(user){\r\n            console.log(user)\r\n        }\r\n        \r\n    //      canvas=document.getElementById(\"canvas\")\r\n    //      ctx=canvas.getContext(\"2d\")\r\n    //  test= new Test(ctx)\r\n\r\n     const game = new Game(document.getElementById('canvas'))\r\n     game.start()\r\n        \r\n        //  test.display()\r\n        \r\n        \r\n        \r\n    },[])\r\n    \r\n    return (\r\n        <div  >\r\n            {user&&<div>{user.email}\r\n                </div>}\r\n                \r\n                <canvas width=\"400px\" height=\"400px\" id=\"canvas\"></canvas>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","\nimport '../css/App.css';\nimport {db} from \"../firebase\";\nimport {BrowserRouter as Router,Switch,Route} from \"react-router-dom\";\nimport Login from \"./Login\"\nimport Register  from './Register';\nimport Main  from \"./Main\"\n\nfunction App() {\n\n  \n\n\n  return (\n    <Router>\n    <div className=\"app\">\n    <Switch>\n\n      <Route path=\"/login\">\n        <Login/>\n\n      </Route>\n\n      <Route path=\"/register\">\n        <Register/>\n\n      </Route>\n\n      <Route path=\"/\">\n\n        <Main/>\n\n      </Route>\n\n      </Switch>\n      \n     \n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","export const initialState={\r\n    user:null,profile:[]\r\n    \r\n    \r\n}\r\n\r\n\r\nconst reducer=(state,action)=>{\r\n    // console.log(action)\r\n    switch(action.type){\r\n        \r\n            case 'SET_USER':\r\n             return{\r\n                ...state,user:action.user\r\n                 }\r\n                \r\n               \r\n                  \r\n                \r\n                \r\n                case 'SET_PROFILE':\r\n                    return{\r\n                      ...state,profile:action.profile\r\n                    }\r\n                   \r\n                   \r\n                    default:return state;     \r\n                \r\n    }\r\n}\r\nexport default reducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './reactComponents/App';\n\nimport { StateProvider } from './Stateprovider';\nimport reducer,{initialState} from \"./reducer\";\n\nReactDOM.render(\n  <React.StrictMode>\n   <StateProvider initialState={initialState} reducer={reducer}>\n    <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}