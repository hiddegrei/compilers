(this.webpackJsonpcompilers=this.webpackJsonpcompilers||[]).push([[0],{29:function(t,e,s){},38:function(t,e,s){},39:function(t,e,s){},51:function(t,e,s){},52:function(t,e,s){"use strict";s.r(e);var i=s(3),n=s.n(i),a=s(30),r=s.n(a),o=(s(38),s(39),s(22)),c=o.a.initializeApp({apiKey:"AIzaSyDUBI0Gu6n_tO4wK9jV6dKzulCe6zfnVO4",authDomain:"the-compilers.firebaseapp.com",projectId:"the-compilers",storageBucket:"the-compilers.appspot.com",messagingSenderId:"165833853697",appId:"1:165833853697:web:af0a0922ac75b02b0f6900",measurementId:"G-Y64Y3HMRLE"}).firestore(),h=o.a.auth(),u=(o.a.storage(),s(17)),l=s(9),d=s(13),p=(s(29),s(4)),f=Object(i.createContext)(),x=function(t){var e=t.reducer,s=t.initialState,n=t.children;return Object(p.jsx)(f.Provider,{value:Object(i.useReducer)(e,s),children:n})},j=function(){return Object(i.useContext)(f)};var v=function(){var t=Object(l.f)(),e=Object(i.useState)(""),s=Object(d.a)(e,2),n=s[0],a=s[1],r=Object(i.useState)(""),o=Object(d.a)(r,2),f=o[0],x=o[1],v=Object(i.useState)(""),b=Object(d.a)(v,2),y=(b[0],b[1],j()),g=Object(d.a)(y,2),m=g[0],O=(m.user,m.handle,g[1]),w=Object(i.useState)(!1),k=Object(d.a)(w,2),T=k[0],E=k[1];return Object(i.useEffect)((function(){T&&setTimeout((function(){E(!1)}),3e3)}),[T]),Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)(u.b,{to:"/",children:Object(p.jsx)("img",{className:"header__logo",id:"myimg",src:"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/socialHit.jpg.jpg?alt=media&token=421646ee-5d89-4c89-8eab-57d3c88174f6"})}),Object(p.jsxs)("div",{className:"login__container",children:[Object(p.jsx)("h1",{children:"sign in"}),Object(p.jsxs)("form",{children:[Object(p.jsx)("h5",{children:"Email"}),Object(p.jsx)("input",{onChange:function(t){return a(t.target.value)},value:n,type:"text"}),Object(p.jsx)("h5",{children:"Password"}),Object(p.jsx)("input",{onChange:function(t){return x(t.target.value)},value:f,type:"password"}),Object(p.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var s=n.replace(/\s+/g,"");s&&f?h.signInWithEmailAndPassword(s,f).then((function(t){var e=t.user;O({type:"SET_USER",user:e}),e.uid&&c.collectionGroup("users").where("userId","==",e.uid).get().then((function(t){t.forEach((function(t){O({type:"SET_PROFILE",profile:t.data()})}))})).catch((function(t){return console.log(t)}))})).then((function(e){t.push("/")})).catch((function(t){return alert(t.message)})):alert("email/password is missing")},className:"login__button",children:"Sign in"})]}),Object(p.jsx)("button",{onClick:function(){return t.push("/forgotpassword")},className:"login__forgotpasswordbutton",children:"Forgot Password?"}),Object(p.jsx)("button",{onClick:function(){return t.push("/register")},className:"login__registerButton",children:"Create account"})]})]})};var b=function(){var t=Object(l.f)(),e=Object(i.useState)(""),s=Object(d.a)(e,2),n=s[0],a=s[1],r=Object(i.useState)(""),o=Object(d.a)(r,2),f=o[0],x=o[1],v=Object(i.useState)(""),b=Object(d.a)(v,2),y=b[0],g=b[1],m=j(),O=Object(d.a)(m,2),w=O[0],k=(w.user,w.handle,O[1],Object(i.useState)(!1)),T=Object(d.a)(k,2),E=T[0],S=T[1];return Object(i.useEffect)((function(){E&&setTimeout((function(){S(!1)}),3e3)}),[E]),Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)(u.b,{to:"/",children:Object(p.jsx)("img",{alt:"",className:"header__logo",id:"myimg",src:"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/socialHit.jpg.jpg?alt=media&token=421646ee-5d89-4c89-8eab-57d3c88174f6"})}),Object(p.jsxs)("div",{className:"login__container",children:[Object(p.jsx)("h1",{children:"Register"}),Object(p.jsxs)("form",{children:[Object(p.jsx)("h5",{children:"Username"}),Object(p.jsx)("input",{onChange:function(t){return g(t.target.value)},value:y,type:"text"}),Object(p.jsx)("h5",{children:"Email"}),Object(p.jsx)("input",{onChange:function(t){return a(t.target.value)},value:n,type:"text"}),Object(p.jsx)("h5",{children:"Password"}),Object(p.jsx)("input",{onChange:function(t){return x(t.target.value)},value:f,type:"password"})]}),Object(p.jsx)("button",{onClick:function(t){t.preventDefault();var e=n.replace(/\s+/g,"");y&&"undefined"!==y?c.collection("users").where("username","==",y).get().then((function(t){if(t.exists)return alert(y+":this username is already taken");h.createUserWithEmailAndPassword(e,f).then((function(t){var e=t.user;c.collection("users").doc(y).set({username:y,email:e.email,userId:e.uid,imageUrl:"",bio:""}),c.collection("users").doc(y).collection("followingNUM").doc(y).set({following:0}).catch((function(t){return alert(t.message)})),c.collection("users").doc(y).collection("followersNUM").doc(y).set({followers:0}).catch((function(t){return alert(t.message)})),e.sendEmailVerification().then((function(){})).catch((function(t){})),a(""),g(""),x("")})).then((function(t){S(!0)})).catch((function(t){return alert(t.message)}))})):alert("please enter username")},className:"login__registerButton",children:"Create account"}),Object(p.jsx)("button",{type:"submit",onClick:function(){return t.push("/login")},className:"login__button",children:"Back to Sign in"})]}),E&&Object(p.jsx)("div",{className:"login__popup",children:Object(p.jsx)("h1",{children:"Thanks for signing up! You can Login now!"})})]})},y=(s(51),s(11)),g=s(12),m=function(){function t(e){var s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.NORMAL_MODE;Object(y.a)(this,t),this.step=function(e){s.isInState(t.STATE_STARTING)&&(s.state=t.STATE_RUNNING),s.game.processInput();var i=!1;if(s.mode===t.PLAY_CATCH_UP)for(;s.previousElapsed<e&&!i;)i=s.game.update(1),s.previousElapsed+=1;else{var n=e-s.previousElapsed;i=s.game.update(n),s.previousElapsed=e}s.game.render(),!i||s.isInState(t.STATE_STOPPING)?requestAnimationFrame(s.step):s.state=t.STATE_IDLE;var a=performance.now(),r=e-a,o=a-s.frameEnd;s.fps=Math.round(1e3/o),s.load=r/o,s.frameEnd=a,s.gameTime=a-s.gameStart,s.frameCount+=1},this.state=t.STATE_IDLE,this.mode=i,this.game=e}return Object(g.a)(t,[{key:"start",value:function(){this.state===t.STATE_IDLE&&(this.state=t.STATE_STARTING,this.gameStart=performance.now(),this.frameEnd=this.gameStart,this.previousElapsed=this.gameStart,this.gameTime=0,this.frameCount=0,requestAnimationFrame(this.step))}},{key:"stop",value:function(){this.state=t.STATE_STOPPING}},{key:"isInState",value:function(t){return this.state===t}}]),t}();m.STATE_IDLE=0,m.STATE_STARTING=1,m.STATE_RUNNING=2,m.STATE_STOPPING=3,m.NORMAL_MODE=0,m.PLAY_CATCH_UP=1;var O=function(){function t(){var e=this;Object(y.a)(this,t),this.keyDown=function(t){e.keyCodeStates[t.keyCode]=!0},this.keyUp=function(t){e.keyCodeStates[t.keyCode]=!1},this.keyCodeStates=new Array,window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp)}return Object(g.a)(t,[{key:"isKeyDown",value:function(t){return!0===this.keyCodeStates[t]}},{key:"kPressed",value:function(t){return!0===this.keyCodeStates[t]}}]),t}();O.KEY_SPACE=32,O.KEY_LEFT=37,O.KEY_UP=38,O.KEY_RIGHT=39,O.KEY_DOWN=40,O.KEY_R=82;var w=function(){function t(e,s){Object(y.a)(this,t),this.keyboard=new O,this.yspeed=1,this.xpos=100,this.ypos=100}return Object(g.a)(t,[{key:"move",value:function(){this.keyboard.isKeyDown(38)&&(this.ypos-=10),this.keyboard.isKeyDown(40)&&(this.ypos+=10),this.keyboard.isKeyDown(37)&&(this.xpos-=10,console.log("so")),this.keyboard.isKeyDown(39)&&(this.xpos+=10)}}]),t}(),k=function(){function t(e,s,i,n,a){Object(y.a)(this,t),this.a={x:e,y:s},this.b={x:i,y:n},this.ctx=a}return Object(g.a)(t,[{key:"show",value:function(){this.ctx.strokeStyle="#000000",this.ctx.beginPath(),this.ctx.moveTo(this.a.x,this.a.y),this.ctx.lineTo(this.b.x,this.b.y),this.ctx.stroke()}}]),t}(),T=function(){function t(e,s,i){Object(y.a)(this,t),this.pos=e,this.lenghtDir=50,this.dir={x:Math.cos(s/360*2*Math.PI),y:Math.sin(s/360*2*Math.PI)},this.ctx=i,this.p={x:null,y:null};var n=Math.sqrt(this.dir.x*this.dir.x+this.dir.y*this.dir.y);this.dir.x=this.dir.x/n*this.lenghtDir,this.dir.y=this.dir.y/n*this.lenghtDir*-1}return Object(g.a)(t,[{key:"show",value:function(){this.ctx.beginPath(),this.ctx.moveTo(this.pos.x,this.pos.y),this.ctx.lineTo(this.pos.x+this.dir.x,this.pos.y+this.dir.y),this.ctx.stroke()}},{key:"lookAt",value:function(t,e){this.dir.x=t-this.pos.x,this.dir.y=e-this.pos.y}},{key:"cast",value:function(t){var e=t.a.x,s=t.a.y,i=t.b.x,n=t.b.y,a=this.pos.x,r=this.pos.y,o=this.pos.x+this.dir.x,c=this.pos.y+this.dir.y,h=(e-i)*(r-c)-(s-n)*(a-o);if(0===h)return!1;var u=((e-a)*(r-c)-(s-r)*(a-o))/h;return u>0&&u<1&&-((e-i)*(s-r)-(s-n)*(e-a))/h>0&&(this.p.x=e+u*(i-e),this.p.y=s+u*(n-s),this.p)}},{key:"writeTextToCanvas",value:function(t,e,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center";this.ctx.font="".concat(i,"px sans-serif"),this.ctx.fillStyle=n,this.ctx.textAlign=a,this.ctx.fillText(t,e,s)}}]),t}(),E=s(27),S=function(){function t(e,s,i){Object(y.a)(this,t),this.ctx=i,this.pos={x:e,y:s},this.rays=[],this.radius=10,this.speed=5,this.dir={x:0,y:0},this.mouse={x:0,y:0},this.angleView=15}return Object(g.a)(t,[{key:"getAngleDeg",value:function(t,e,s,i){return 180*Math.atan((e-i)/(t-s))/Math.PI}},{key:"move",value:function(t,e,s){var i=!0;if(this.rays.length>0)for(var n=0;n<s.length;n++){var a=this.rays[15].cast(s[n]);if(a){var r=a.x-this.pos.x,o=a.y-this.pos.y;Math.sqrt(r*r+o*o)<5&&(i=!1)}}this.dir={x:t-this.pos.x,y:e-this.pos.y};for(var c=this.pos.x-this.pos.x+this.dir.x,h=this.pos.y-this.pos.y+this.dir.y,u=Math.sqrt(c*c+h*h),l=180*Math.atan2(c,h)/Math.PI-90;l>=360;)l-=360;for(;l<0;)l+=360;this.angleView=l,this.rays=[];for(var d=l-15;d<l;d++)this.rays.push(new T(this.pos,d,this.ctx));for(var p=l;p<l+15;p++)this.rays.push(new T(this.pos,p,this.ctx));this.dir.x=this.dir.x/u*this.speed,this.dir.y=this.dir.y/u*this.speed,u>20&&i&&(this.pos.x+=this.dir.x,this.pos.y+=this.dir.y)}},{key:"show",value:function(){this.ctx.beginPath(),this.ctx.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),this.ctx.stroke();for(var t=0;t<this.rays.length;t++)this.rays[t].show()}},{key:"look",value:function(t){var e,s=Object(E.a)(this.rays);try{for(s.s();!(e=s.n()).done;){var i,n=e.value,a={x:null,y:null},r=1/0,o=Object(E.a)(t);try{for(o.s();!(i=o.n()).done;){var c=i.value,h=n.cast(c);if(h){var u=h.x-this.pos.x,l=h.y-this.pos.y,d=Math.sqrt(u*u+l*l);d<=r&&(r=d,a.x=h.x,a.y=h.y)}}}catch(p){o.e(p)}finally{o.f()}null!=a.x&&(this.ctx.beginPath(),this.ctx.moveTo(this.pos.x,this.pos.y),this.ctx.lineTo(a.x,a.y),this.ctx.stroke())}}catch(p){s.e(p)}finally{s.f()}}},{key:"writeTextToCanvas",value:function(t,e,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center";this.ctx.font="".concat(i,"px sans-serif"),this.ctx.fillStyle=n,this.ctx.textAlign=a,this.ctx.fillText(t,e,s)}}]),t}(),_=function(){function t(e,s){Object(y.a)(this,t),this.canvas=e,this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.game=s,this.ctx=this.canvas.getContext("2d"),this.player=new w(150,this.canvas.height/2),this.score=0,this.borders=[];for(var i=0;i<5;i++){var n=Math.random()*this.canvas.width,a=Math.random()*this.canvas.height,r=Math.random()*this.canvas.width,o=Math.random()*this.canvas.height;this.borders.push(new k(n,a,r,o,this.ctx))}this.particle=new S(100,100,this.ctx),this.mouse={x:0,y:0}}return Object(g.a)(t,[{key:"processInput",value:function(){}},{key:"mouseDown",value:function(t){this.mouse.x=window.event.clientX,this.mouse.y=window.event.clientY}},{key:"update",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),document.onmousemove=this.mouseDown.bind(this),this.particle.move(this.mouse.x,this.mouse.y,this.borders)}},{key:"render",value:function(){this.particle.show();for(var t=0;t<this.borders.length;t++)this.borders[t].show();this.particle.look(this.borders)}},{key:"writeTextToCanvas",value:function(t,e,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center",r=this.canvas.getContext("2d");r.font="".concat(i,"px sans-serif"),r.fillStyle=n,r.textAlign=a,r.fillText(t,e,s)}}]),t}();_.SPACE=300;var I=function(){function t(e){Object(y.a)(this,t),this.canvas=e,this.scene=new _(this.canvas,this),this.gameLoop=new m(this)}return Object(g.a)(t,[{key:"start",value:function(){console.log("starting"),this.gameLoop.start()}},{key:"processInput",value:function(){this.scene.processInput()}},{key:"update",value:function(t){return this.scene.update(),!1}},{key:"render",value:function(){this.scene.render()}}],[{key:"loadNewImage",value:function(t){var e=new Image;return e.src=t,e}},{key:"randomNumber",value:function(t,e){return Math.round(Math.random()*(e-t)+t)}}]),t}();var A=function(){var t=j(),e=Object(d.a)(t,2),s=e[0].user;return e[1],Object(i.useEffect)((function(){s&&console.log(s),new I(document.getElementById("canvas")).start()}),[]),Object(p.jsxs)("div",{children:[s&&Object(p.jsx)("div",{children:s.email}),Object(p.jsx)("canvas",{width:"400px",height:"400px",id:"canvas"})]})};var C=function(){return Object(p.jsx)(u.a,{children:Object(p.jsx)("div",{className:"app",children:Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{path:"/login",children:Object(p.jsx)(v,{})}),Object(p.jsx)(l.a,{path:"/register",children:Object(p.jsx)(b,{})}),Object(p.jsx)(l.a,{path:"/",children:Object(p.jsx)(A,{})})]})})})},N=s(19),P=function(t,e){switch(e.type){case"SET_USER":return Object(N.a)(Object(N.a)({},t),{},{user:e.user});case"SET_PROFILE":return Object(N.a)(Object(N.a)({},t),{},{profile:e.profile});default:return t}};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(x,{initialState:{user:null,profile:[]},reducer:P,children:Object(p.jsx)(C,{})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.df910e3c.chunk.js.map